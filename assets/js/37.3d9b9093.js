(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{556:function(e,t,n){"use strict";n.r(t);var s=n(8),a=Object(s.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("function getSessionData() {\n  let sessionKeys = Object.keys(sessionStorage)\n  let data = {}\n  for (let i = 0; i < sessionKeys.length; i++) {\n    //可以对key 进行分析从而决定是否要删除sessionStorage 里的缓存\n    data[sessionKeys[i]] = sessionStorage.getItem(sessionKeys[i])\n  }\n  return JSON.stringify(data)\n}\n\nfunction setSessionData(d) {\n  let data = JSON.parse(d)\n  let dataKeys = Object.keys(data)\n  for (let i = 0; i < dataKeys.length; i++) {\n    sessionStorage.setItem(dataKeys[i], data[dataKeys[i]])\n  }\n}\n\n//1.  触发标志位改变事件\nwindow.localStorage.setItem('sessionStorageFlag', Date.now().toString())\nwindow.addEventListener('storage', function (event) {\n  if (!event.newValue) {\n    return\n  }\n  // 2. 监听标志位改变事件\n  if (event.key === 'sessionStorageFlag') {\n    // 3. 触发传递信息的改变事件\n    localStorage.setItem('storeSessionData', getSessionData())\n    console.log(\n        sessionStorage.getItem('sys-token')\n    )\n    localStorage.removeItem('storeSessionData')\n  } else if (event.key === 'storeSessionData') {\n    // 4. 监听 传递信息 的改变事件\n    setSessionData(event.newValue)\n    console.log(\n        sessionStorage.getItem('sys-token')\n    )\n  }\n})\n\n")])])]),t("copyright")],1)}),[],!1,null,null,null);t.default=a.exports}}]);