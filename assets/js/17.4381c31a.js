(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{535:function(e,a,s){"use strict";s.r(a);var t=s(8),r=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h3",{attrs:{id:"设置仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置仓库"}},[e._v("#")]),e._v(" 设置仓库")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ yum install -y yum-utils device-mapper-persistent-data lvm2\n")])])]),s("p",[e._v("设置源地址")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("//官网\n$ sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("//阿里云\n$ sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n")])])]),s("h3",{attrs:{id:"安装-docker-engine-community"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker-engine-community"}},[e._v("#")]),e._v(" 安装 Docker Engine-Community")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ sudo yum install docker-ce docker-ce-cli containerd.io\n")])])]),s("p",[e._v("本步骤如果报错，原因centos8默认使用podman代替docker：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Error:\nProblem 1: problem with installed package podman-2.2.1-7.module_el8.3.0+699+d61d9c41.x86_64\n")])])]),s("p",[e._v("上述错误执行以下命令：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ yum erase podman buildah\n$ yum install docker-ce docker-ce-cli containerd.io\n")])])]),s("img",{attrs:{src:e.$withBase("/images/docker/install/image-20211112150532617.png"),alt:"mixureSecure"}}),e._v(" "),s("h3",{attrs:{id:"验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证"}},[e._v("#")]),e._v(" 验证")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ docker -v\n")])])]),s("img",{attrs:{src:e.$withBase("/images/docker/install/image-20211112150601142.png"),alt:"mixureSecure"}}),e._v(" "),s("h3",{attrs:{id:"自启"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自启"}},[e._v("#")]),e._v(" 自启")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("sudo systemctl enable docker\n")])])]),s("h3",{attrs:{id:"docker-compose"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[e._v("#")]),e._v(" docker compose")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('//运行以下命令以下载 Docker Compose 的当前稳定版本：\nsudo curl -L "https://github.com/docker/compose/releases/download/v2.2.3/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\n//将可执行权限应用于二进制文件：\nsudo chmod +x /usr/local/bin/docker-compose\n//创建软链：\nsudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose\n//测试\ndocker-compose --version\n\n\n//执行以下命令来运行.yml文件\ndocker-compose up\n//后台运行.yml文件\ndocker-compose up -d\n')])])]),s("h3",{attrs:{id:"问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[e._v("#")]),e._v(" 问题")]),e._v(" "),s("p",[e._v("错误现象")]),e._v(" "),s("p",[e._v("Camnot comect to the Docker daemn at unix:/1 八 ar/run/docker .sock.Is the docker daemom rumning?")]),e._v(" "),s("p",[e._v("解决方式：对 docker 进行重启")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("守护进程重启   sudo systemctl daemon-reload\n重启docker服务   systemctl restart  docker\n")])])]),s("copyright")],1)}),[],!1,null,null,null);a.default=r.exports}}]);